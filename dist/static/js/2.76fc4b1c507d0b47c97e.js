webpackJsonp([2],{KAuB:function(t,s){},"W1+L":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Dd8w"),n=e.n(i),a=e("//Fk"),l=e.n(a),o=e("woOf"),d=e.n(o),r=e("nSkA"),c=e("T452"),h=e("mtWM"),m=e.n(h);var u={data:function(){return{nowIndex:0,interval:3500,slideInterval:"",isLoad:!1,isShow:!0,delay:!1,slideTrans:"slide-trans-left",slideTransOld:"slide-trans-left-old"}},props:{slideData:Array,default:[]},computed:{},watch:{slideData:function(){""!==this.slideData&&(this.isLoad=!0,this.slideShow())}},mounted:function(){},methods:{slideShow:function(){var t=this,s=this.slideData.length;null!==this.slideInterval&&(this.slideInterval=setInterval(function(){t.slideTrans="slide-trans-left",t.slideTransOld="slide-trans-left-old",t.isShow=!1,setTimeout(function(){t.nowIndex<s-1?t.nowIndex++:t.nowIndex=0,t.isShow=!t.isShow},10)},this.interval))},pauseShow:function(){clearInterval(this.slideInterval)},panRight:function(){var t=this,s=this;this.pauseShow(),!0===this.delay?setTimeout(function(){t.delay=!1},1e3):(this.delay=!0,s.slideTransOld="slide-trans-right-old",s.isShow=!1,setTimeout(function(){s.slideTrans="slide-trans-right";var t=s.slideData.length;0!==s.nowIndex?s.nowIndex--:s.nowIndex=t-1,s.isShow=!0},10)),this.slideShow()},panLeft:function(){var t=this,s=this;this.pauseShow(),!0===this.delay?setTimeout(function(){t.delay=!1},1e3):(this.delay=!0,s.slideTransOld="slide-trans-left-old",s.isShow=!1,setTimeout(function(){s.slideTrans="slide-trans-left";var t=s.slideData.length;s.nowIndex<t-1?s.nowIndex++:s.nowIndex=0,s.isShow=!0},10)),this.slideShow()},loadImg:function(){console.log("slideload"),this.$emit("img-load")},test:function(){console.log("click")}},destroyed:function(){clearTimeout(this.slideInterval)}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slider"},[e("v-touch",{on:{click:t.test,panleft:t.panLeft,panright:t.panRight}},[t.isLoad?e("div",{staticClass:"slider-group"},[e("a",{staticClass:"slider-link",attrs:{href:"#"}},[e("img",{staticClass:"clearAbs",attrs:{src:t.slideData[0].picUrl},on:{load:t.loadImg}}),t._v(" "),e("transition",{attrs:{name:t.slideTrans}},[t.isShow?e("img",{staticClass:"slider-img needsclick",attrs:{src:t.slideData[t.nowIndex].picUrl}}):t._e()]),t._v(" "),e("transition",{attrs:{name:t.slideTransOld}},[t.isShow?t._e():e("img",{staticClass:"slider-img",attrs:{src:t.slideData[t.nowIndex].picUrl}})])],1)]):t._e(),t._v(" "),e("div",{staticClass:"dots-wrapper"},[t.isLoad?e("div",{staticClass:"dots"},t._l(t.slideData,function(s,i){return e("span",{key:i,class:["dotsKey",{active:i===t.nowIndex}]})})):t._e()])])],1)},staticRenderFns:[]};var v=e("VU/8")(u,f,!1,function(t){e("yfZN")},"data-v-d76192b4",null).exports,w=e("qwAB"),g=e("y/jF"),p=e("F4+m"),_=e("NYxO"),I={mixins:[p.b],data:function(){return{recommends:[],discList:[],checkLoad:!1,discSongs:[],item:[]}},components:{Slider:v,Scroll:w.a,Loading:g.a},created:function(){var t=this;this._fetchRecommend(),setTimeout(function(){t._fetchDiscList()},1e3)},methods:n()({handlePlaylist:function(t){var s=this;setTimeout(function(){var e=t.length>0?60:"";s.$refs.fixHeight.style.height=e+"px",s.$refs.scrollList.refresh()},50)},selectItem:function(t){this.$router.push({path:"/recommend/"+t.dissid}),this.setDisc(t)},_fetchRecommend:function(){var t,s;t=this.setComponents,s=d()({},c.b,{platform:"h5",uin:0,needNewCode:1,format:"jsonp"}),r.a.fetchData1("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",s,t)},_fetchDiscList:function(){var t,s=this;(this.setDiscList,t=d()({},c.b,{picmid:1,rnd:Math.random(),loginUin:0,hostUin:0,platform:"yqq",needNewCode:0,categoryId:1e7,lan:"all",format:"json",sortId:5,sin:0,ein:29}),m.a.get("/api/fetchDiscList",{params:t}).then(function(t){return l.a.resolve(t.data)})).then(function(t){t.code===c.a&&(s.discList=t.data.list)})},setComponents:function(t){t.code===c.a&&(this.recommends=t.data)},setDiscList:function(t){t.code===c.a&&(this.discList=t.data)},loadImage:function(){this.checkLoad||(this.$refs.scrollList.refresh(),this.checkLoad=!0)}},Object(_.d)({setDisc:"SET_DISC"}))},L={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"recommend"},[e("scroll",{ref:"scrollList",staticClass:"recommend-content",attrs:{data:t.discList}},[e("div",[e("div",{staticClass:"slider-wrapper"},[e("slider",{attrs:{slideData:t.recommends.slider},on:{"img-load":t.loadImage}})],1),t._v(" "),t.discList.length?e("div",{staticClass:"recommend-list"},[e("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),t._v(" "),e("ul",{staticClass:"mv-wrapper"},t._l(t.discList,function(s,i){return e("li",{key:i,staticClass:"mv-list",on:{click:function(e){t.selectItem(s)}}},[e("div",{staticClass:"mv-content"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.imgurl,expression:"item.imgurl"}],staticClass:"mv-img"}),t._v(" "),e("h3",{staticClass:"mv-title"},[t._v(t._s(s.dissname))])])])}))]):t._e(),t._v(" "),e("div",{ref:"fixHeight"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.discList.length,expression:"!discList.length"}],staticClass:"loading-container"},[e("loading",{attrs:{title:"正在载入..."}})],1)])]),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var y=e("VU/8")(I,L,!1,function(t){e("KAuB")},"data-v-7596d99a",null);s.default=y.exports},yfZN:function(t,s){}});
//# sourceMappingURL=2.76fc4b1c507d0b47c97e.js.map