{"version":3,"sources":["webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?e617","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/api/recommend.js","webpack:///./src/components/recommend/recommend.vue?45f1","webpack:///./src/components/recommend/recommend.vue"],"names":["slider","data","nowIndex","interval","slideInterval","isLoad","isShow","delay","slideTrans","slideTransOld","props","slideData","Array","default","computed","watch","this","slideShow","mounted","methods","_this","len","length","setInterval","setTimeout","pauseShow","clearInterval","panRight","_this2","that","panLeft","_this3","loadImg","console","log","$emit","test","destroyed","clearTimeout","slider_slider","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","panleft","panright","attrs","href","src","picUrl","load","_v","name","_e","_l","item","index","key","class","active","staticRenderFns","base_slider_slider","__webpack_require__","normalizeComponent","ssrContext","recommend","mixins","mixin","recommends","discList","checkLoad","discSongs","components","Slider","Scroll","scroll_scroll","Loading","loading","created","_fetchRecommend","_fetchDiscList","extends_default","handlePlaylist","playlist","fixHeight","$refs","style","height","scrollList","refresh","selectItem","$router","push","path","dissid","setDisc","callback","setComponents","assign_default","config","platform","uin","needNewCode","format","tool","fetchData1","setDiscList","picmid","rnd","Math","random","loginUin","hostUin","categoryId","lan","sortId","sin","ein","axios_default","a","get","params","then","res","promise_default","resolve","code","list","loadImage","Object","vuex_esm","recommend_recommend","ref","img-load","$event","directives","rawName","value","expression","_s","dissname","title","recommend_Component","recommend_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.76fc4b1c507d0b47c97e.js","sourcesContent":["<template>\n  <div class=\"slider\">\n    <v-touch @click=\"test\" v-on:panleft=\"panLeft\" v-on:panright=\"panRight\">\n      <div v-if=\"isLoad\" class=\"slider-group\">\n        <!--<a  class=\"slider-link\" :href=\"slideData[nowIndex].linkUrl\">-->\n        <a  class=\"slider-link\" href=\"#\">\n          <img @load=\"loadImg\" class=\"clearAbs\" :src=\"slideData[0].picUrl\"/>\n          <transition :name=\"slideTrans\">\n            <img v-if=\"isShow\" class=\"slider-img needsclick\" :src=\"slideData[nowIndex].picUrl\"/>\n          </transition>\n          <transition :name=\"slideTransOld\">\n            <img v-if=\"!isShow\" class=\"slider-img\" :src=\"slideData[nowIndex].picUrl\"/>\n          </transition>\n        </a>\n      </div>\n      <div class=\"dots-wrapper\">\n        <div v-if=\"isLoad\" class=\"dots\">\n          <span v-for=\"(item, index) in slideData\" :key=\"index\"  :class=\"['dotsKey',{active:index === nowIndex}]\"></span>\n        </div>\n      </div>\n    </v-touch>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\nexport default {\n  data () {\n    return {\n      nowIndex: 0,\n      interval: 3500,\n      slideInterval: '',\n      isLoad: false,\n      isShow: true,\n      delay: false,\n      slideTrans: 'slide-trans-left',\n      slideTransOld: 'slide-trans-left-old'\n    }\n  },\n  props: {\n    slideData: Array,\n    default: []\n  },\n  computed: {\n\n  },\n  watch: {\n    slideData () {\n      if (this.slideData !== '') {\n        this.isLoad = true\n        this.slideShow()\n      }\n    }\n  },\n  mounted () {\n\n  },\n  methods: {\n    // 自动轮播\n    slideShow () {\n      let len = this.slideData.length\n      if (this.slideInterval === null) {\n        return\n      }\n      this.slideInterval = setInterval(() => {\n        this.slideTrans = 'slide-trans-left'\n        this.slideTransOld = 'slide-trans-left-old'\n        this.isShow = false\n        setTimeout(() => {\n          if (this.nowIndex < len - 1) {\n            this.nowIndex++\n          } else {\n            this.nowIndex = 0\n          }\n          this.isShow = !this.isShow\n        }, 10)\n      }, this.interval)\n    },\n    // 停止轮播\n    pauseShow () {\n      clearInterval(this.slideInterval)\n    },\n    // 上一页\n    panRight () {\n      let that = this\n      this.pauseShow()\n      if (this.delay === true) {\n        setTimeout(() => {\n          this.delay = false\n        }, 1000)\n      } else {\n        this.delay = true\n        fallback()\n      }\n      this.slideShow()\n      function fallback () {\n        that.slideTransOld = 'slide-trans-right-old'\n        that.isShow = false\n        setTimeout(() => {\n          that.slideTrans = 'slide-trans-right'\n          let len = that.slideData.length\n          if (that.nowIndex !== 0) {\n            that.nowIndex--\n          } else {\n            that.nowIndex = len - 1\n          }\n          that.isShow = true\n        }, 10)\n      }\n    },\n    // 下一页\n    panLeft () {\n      let that = this\n      this.pauseShow()\n      if (this.delay === true) {\n        setTimeout(() => {\n          this.delay = false\n        }, 1000)\n      } else {\n        this.delay = true\n        ahead()\n      }\n      this.slideShow()\n      function ahead () {\n        that.slideTransOld = 'slide-trans-left-old'\n        that.isShow = false\n        setTimeout(() => {\n          that.slideTrans = 'slide-trans-left'\n          let len = that.slideData.length\n          if (that.nowIndex < len - 1) {\n            that.nowIndex++\n          } else {\n            that.nowIndex = 0\n          }\n          that.isShow = true\n        }, 10)\n      }\n    },\n    loadImg () {\n      console.log('slideload')\n      this.$emit('img-load')\n    },\n    test () {\n      console.log('click')\n    }\n  },\n  destroyed () {\n    clearTimeout(this.slideInterval)\n  }\n}\n</script>\n\n<style scoped>\n.slider{\n  width:100%;\n  position: relative;\n  display: flex;\n}\n\n.slider-link{\n  display: block;\n  width:100%;\n  white-space: nowrap;\n}\n.slider-img{\n  width:100%;\n  position: absolute;\n  top:0;\n  left:0;\n}\n  .dots-wrapper{\n    position: absolute;\n    bottom:10px;\n    left:50%;\n    display: flex;\n    justify-content: center;\n  }\n  .clearAbs{\n    display: block;\n    position: relative;\n    width:100%;\n    visibility: hidden;\n    z-index: -1;\n  }\n  .dots{\n    transform:translate(-50%,0) ;\n  }\n  .dotsKey{\n    margin: 0 8px ;\n    width:5px;\n    height:5px;\n    border-radius: 5px;\n    background-color: #fbfbfb;\n    z-index: 1;\n    display: inline-block;\n  }\n  .active{\n    /*background-color: #76b900;*/\n  }\n  .slide-trans-right-enter-active{\n    transition: all .5s;\n  }\n  .slide-trans-right-enter{\n    transform:translate(-100%)\n  }\n  .slide-trans-right-old-leave-active{\n    transition: all .5s;\n    transform: translateX(100%);\n  }\n.slide-trans-left-enter-active{\n  transition: all .5s;\n}\n.slide-trans-left-enter{\n  transform:translate(100%)\n}\n.slide-trans-left-old-leave-active{\n  transition: all .5s;\n  transform: translateX(-100%);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/slider/slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slider\"},[_c('v-touch',{on:{\"click\":_vm.test,\"panleft\":_vm.panLeft,\"panright\":_vm.panRight}},[(_vm.isLoad)?_c('div',{staticClass:\"slider-group\"},[_c('a',{staticClass:\"slider-link\",attrs:{\"href\":\"#\"}},[_c('img',{staticClass:\"clearAbs\",attrs:{\"src\":_vm.slideData[0].picUrl},on:{\"load\":_vm.loadImg}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":_vm.slideTrans}},[(_vm.isShow)?_c('img',{staticClass:\"slider-img needsclick\",attrs:{\"src\":_vm.slideData[_vm.nowIndex].picUrl}}):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":_vm.slideTransOld}},[(!_vm.isShow)?_c('img',{staticClass:\"slider-img\",attrs:{\"src\":_vm.slideData[_vm.nowIndex].picUrl}}):_vm._e()])],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"dots-wrapper\"},[(_vm.isLoad)?_c('div',{staticClass:\"dots\"},_vm._l((_vm.slideData),function(item,index){return _c('span',{key:index,class:['dotsKey',{active:index === _vm.nowIndex}]})})):_vm._e()])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d76192b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d76192b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./slider.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d76192b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d76192b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/slider/slider.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"recommend\">\n    <scroll ref=\"scrollList\" class=\"recommend-content\"  :data=\"discList\">\n      <div>\n        <div class=\"slider-wrapper\">\n          <slider :slideData=recommends.slider @img-load=\"loadImage\"></slider>\n        </div>\n        <div v-if='discList.length' class=\"recommend-list\">\n          <h1 class=\"list-title\">热门歌单推荐</h1>\n          <ul class=\"mv-wrapper\">\n            <li @click=\"selectItem(item)\" v-for=\"(item, index) in discList\" class=\"mv-list\" :key=\"index\">\n              <div class=\"mv-content\" >\n                <img class=\"mv-img\" v-lazy=\"item.imgurl\"/>\n                <h3 class=\"mv-title\">{{item.dissname}}</h3>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div ref=\"fixHeight\"></div>\n        <div v-show=\"!discList.length\" class=\"loading-container\">\n        <loading title=\"正在载入...\"></loading>\n        </div>\n      </div>\n    </scroll>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport {fetchRecommend, fetchDiscList} from 'api/recommend'\nimport {ERR_OK} from 'api/config'\nimport Slider from '../../base/slider/slider.vue'\nimport Scroll from '../../base/scroll/scroll.vue'\nimport Loading from '@/base/loading/loading'\nimport {playlistMixin} from '@/common/js/mixin'\nimport {mapMutations} from 'vuex'\nexport default {\n  mixins: [playlistMixin],\n  data () {\n    return {\n      recommends: [],\n      discList: [],\n      checkLoad: false,\n      discSongs: [],\n      item: []\n    }\n  },\n  components: {\n    Slider,\n    Scroll,\n    Loading\n  },\n  created () {\n    this._fetchRecommend()\n    setTimeout(() => {\n      this._fetchDiscList()\n    }, 1000)\n  },\n  methods: {\n    handlePlaylist (playlist) {\n      setTimeout(() => {\n        const fixHeight = playlist.length > 0 ? 60 : ''\n        this.$refs.fixHeight.style.height = `${fixHeight}px`\n        this.$refs.scrollList.refresh()\n      }, 50)\n    },\n    selectItem (item) {\n      this.$router.push({\n        path: `/recommend/${item.dissid}`\n      })\n      this.setDisc(item)\n    },\n    _fetchRecommend () {\n      fetchRecommend(this.setComponents)\n    },\n    _fetchDiscList () {\n      fetchDiscList(this.setDiscList).then((res) => {\n        if (res.code === ERR_OK) {\n          this.discList = res.data.list\n        }\n      })\n    },\n    setComponents (data) {\n      if (data.code === ERR_OK) {\n        this.recommends = data.data\n      }\n    },\n    setDiscList (data) {\n      if (data.code === ERR_OK) {\n        this.discList = data.data\n      }\n    },\n    loadImage () {\n      if (!this.checkLoad) {\n        this.$refs.scrollList.refresh()\n        this.checkLoad = true\n      }\n    },\n    ...mapMutations({\n      setDisc: 'SET_DISC'\n    })\n  }\n}\n</script>\n\n<style scoped>\n  .recommend{\n    position: relative;\n    height: 86vh;\n    box-sizing: border-box;\n  }\n.list-title{\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n  color: #000;\n  background-color: transparent;\n}\n\n.mv-wrapper{\n  display: flex;\n  justify-content:space-between;\n  flex-wrap: wrap;\n}\n  .mv-list{\n    width:49%;\n    overflow: hidden;\n    box-shadow: 1px 1px 6px #868686;\n    margin-bottom: 4px;\n  }\n  .mv-img{\n    width:100%;\n  }\n  .mv-title{\n    font:14px/1.5 normal,\"Microsoft YaHei UI\",sans-serif;\n  }\n  .loading-container{\n    position: absolute;\n    top:0;\n    left:0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/recommend/recommend.vue","import fetch from './tool'\nimport {commonParams} from './config'\nimport axios from 'axios'\n\nexport function fetchRecommend (callback) {\n  const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\n  const data = Object.assign({}, commonParams, {\n    platform: 'h5',\n    uin: 0,\n    needNewCode: 1,\n    format: 'jsonp'\n  })\n  return fetch.fetchData1(url, data, callback)\n}\n\nexport function fetchDiscList (callback) {\n  const url = '/api/fetchDiscList'\n  const data = Object.assign({}, commonParams, {\n    picmid: 1,\n    rnd: Math.random(),\n    loginUin: 0,\n    hostUin: 0,\n    platform: 'yqq',\n    needNewCode: 0,\n    categoryId: 10000000,\n    lan: 'all',\n    format: 'json',\n    sortId: 5,\n    sin: 0,\n    ein: 29\n  })\n  return axios.get(url, {\n    params: data\n  }).then((res) => {\n    return Promise.resolve((res.data))\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/recommend.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend\"},[_c('scroll',{ref:\"scrollList\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[_c('div',{staticClass:\"slider-wrapper\"},[_c('slider',{attrs:{\"slideData\":_vm.recommends.slider},on:{\"img-load\":_vm.loadImage}})],1),_vm._v(\" \"),(_vm.discList.length)?_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_vm._v(\" \"),_c('ul',{staticClass:\"mv-wrapper\"},_vm._l((_vm.discList),function(item,index){return _c('li',{key:index,staticClass:\"mv-list\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"mv-content\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],staticClass:\"mv-img\"}),_vm._v(\" \"),_c('h3',{staticClass:\"mv-title\"},[_vm._v(_vm._s(item.dissname))])])])}))]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"fixHeight\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loading-container\"},[_c('loading',{attrs:{\"title\":\"正在载入...\"}})],1)])]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7596d99a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7596d99a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7596d99a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7596d99a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recommend/recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}