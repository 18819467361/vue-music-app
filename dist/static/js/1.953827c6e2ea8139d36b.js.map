{"version":3,"sources":["webpack:///src/components/singer/singerNav/singerTopNav.vue","webpack:///./src/components/singer/singerNav/singerTopNav.vue?4b12","webpack:///./src/components/singer/singerNav/singerTopNav.vue","webpack:///src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?5c90","webpack:///./src/base/listview/listview.vue","webpack:///src/components/singer/singer.vue","webpack:///./src/components/singer/singer.vue?d18d","webpack:///./src/components/singer/singer.vue","webpack:///./src/api/singer.js"],"names":["singerTopNav","data","singersIndex","config","area","areaId","methods","getArea","item","this","id","$emit","singerNav_singerTopNav","render","_vm","_h","$createElement","_c","_self","staticClass","_l","index","key","class","active","on","click","$event","_v","_s","name","staticRenderFns","singer_singerNav_singerTopNav","__webpack_require__","normalizeComponent","ssrContext","mixins","created","touch","listenScroll","listHeight","probeType","indexId","scrollY","currentIndex","diff","props","type","Array","defalut","computed","fixedTitle","fixedData","i","length","undefined","components","Scroll","scroll_scroll","Loading","loading","watch","newRender","console","log","_this","setTimeout","_calculateHeight","newY","height1","height2","newVal","fixedTop","$refs","fixed","style","transform","handlePlaylist","playlist","_this2","$nextTick","fixHeight","height","listView","refresh","getIndex","onShortcutTouchStart","e","anchorIndex","Object","dom","target","firstTouch","touches","y1","pageY","_scrollTo","onShortcutTouchMove","y2","delta","parseInt","scrollToElement","listGroup","scroll","pos","y","list","push","scrollHeight","selectItem","listview_listview","ref","attrs","group","refInFor","index1","directives","rawName","value","expression","_e","singer-name","small","singer_name","index3","active-side-list","data-index","touchstart","touchmove","stopPropagation","preventDefault","substring","title","base_listview_listview","listview_normalizeComponent","listview","singer_singer","singers","TopNav","ViewList","singersFull","_fetchSingerList","setSingers","extends_default","callback","singer","code","singerList","singerlist","splice","vue_esm","set","resetArea","resetIndex","selectSinger","setSinger","$router","path","singer_id","vuex_esm","components_singer_singer","change-area","select","singer_Component","singer_normalizeComponent","__webpack_exports__","idObj","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","g_tk","loginUin","hostUin","format","platform","encodeURIComponent","__WEBPACK_IMPORTED_MODULE_1__tool__","fetchData2","singerId","inCharset","needNewCode","singermid","order","begin","num","songstatus","fetchData1"],"mappings":"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","file":"static/js/1.953827c6e2ea8139d36b.js","sourcesContent":["<template>\n  <div class=\"top-nav-wrapper\">\n    <ul class=\"top-nav\">\n      <li v-for=\"(item, index) in singersIndex\" @click=\"getArea(item)\" :key=\"index\" :class=\"['top-nav-list',{'active':item.id===areaId}]\">{{item.name}}</li>\n    </ul>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport {singersNav} from '@/api/config.js'\nexport default {\n  data () {\n    return {\n      singersIndex: singersNav.area,\n      areaId: 2\n    }\n  },\n  methods: {\n    getArea (item) {\n      this.areaId = item.id\n      this.$emit('change-area', item.id)\n    }\n  }\n}\n</script>\n<style scoped>\n  .top-nav{\n    display: flex;\n    margin:2px 4vh 6px 4px;\n  }\n\n  .top-nav-list{\n    flex-grow: 1;\n    margin:4px 0 4px 0;\n    padding:2px 2px;\n    font-size: 14px;\n  }\n  .active{\n    border-bottom: 1px solid #bc2f2e;\n    border-right: 1px solid #bc2f2e;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer/singerNav/singerTopNav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-nav-wrapper\"},[_c('ul',{staticClass:\"top-nav\"},_vm._l((_vm.singersIndex),function(item,index){return _c('li',{key:index,class:['top-nav-list',{'active':item.id===_vm.areaId}],on:{\"click\":function($event){_vm.getArea(item)}}},[_vm._v(_vm._s(item.name))])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61e50e96\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singerNav/singerTopNav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61e50e96\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singerTopNav.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerTopNav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singerTopNav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61e50e96\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singerTopNav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61e50e96\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singerNav/singerTopNav.vue\n// module id = null\n// module chunks = ","<template>\n  <div v-if=\"fixedData\" class=\"contain\">\n    <scroll class=\"singer-list-wrapper\" :data=\"data\" ref=\"listView\"\n            :listenScroll=\"listenScroll\"\n            :probeType=\"probeType\"\n            @scroll=\"scroll\"\n    >\n      <ul class=\"list-content\">\n        <li v-for=\"(group, index) in fixedData\" :key=\"index\" ref=\"listGroup\">\n          <h2 class=\"list-title\">{{group.name}}</h2>\n          <ul>\n            <li v-for=\"(item, index1) in group.data\" @click=\"selectItem(item)\" :key=\"index1\">\n              <div class=\"singer-list\">\n              <div v-if=\"index ===0\" class=\"img-wrapper\">\n              <img class=\"singer-img\" v-lazy=\"item.singer_pic\"/>\n              </div>\n              <h3 :class=\"[{'singer-name':index === 0},{'small':index !==0}]\">{{item.singer_name}}</h3>\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li ref=\"fixHeight\"></li>\n      </ul>\n      <div class=\"list-fixed\">\n      </div>\n      <h1 class=\"fixed-title\" ref=\"fixed\" v-show=\"fixedTitle\">{{fixedTitle}}</h1>\n    </scroll>\n    <div class=\"side-nav-wrapper\">\n      <ul class=\"side-nav\">\n        <li v-for=\"(item, index3) in singersIndex\" @touchstart=\"onShortcutTouchStart\"\n            @touchmove.stop.prevent=\"onShortcutTouchMove\" @click=\"getIndex(item)\" :data-index=\"index3\"\n            :key=\"index3\" :class=\"['side-nav-bar',{'active-side-list':index3===currentIndex}]\">{{item.name.substring(0,1)}}</li>\n      </ul>\n    </div>\n    <div v-if=\"!data.length\" class=\"loading-container\">\n      <loading title=\"正在载入...\"></loading>\n    </div>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport Scroll from '@/base/scroll/scroll'\nimport { singersNav } from '@/api/config'\nimport { getData } from '@/api/dom'\nimport Loading from '@/base/loading/loading'\nimport {playlistMixin} from '@/common/js/mixin'\n\nconst ANCHOR_HEIGHT = 14\nconst TITLE_HEIGHT = 24\nexport default {\n  mixins: [playlistMixin],\n  created () {\n    this.touch = {}\n    this.listenScroll = true\n    this.listHeight = []\n    this.probeType = 3\n  },\n  data () {\n    return {\n      singersIndex: singersNav.index,\n      indexId: -100,\n      scrollY: -1,\n      currentIndex: 0,\n      diff: ''\n    }\n  },\n  props: {\n    data: {\n      type: Array,\n      defalut: []\n    }\n  },\n  computed: {\n    fixedTitle () {\n      if (this.scrollY > 0) {\n        return ''\n      }\n      return this.data[this.currentIndex] ? this.data[this.currentIndex].name : ''\n    },\n    fixedData () {\n      if (!this.data) {\n        return false\n      }\n      for (let i = 0; i < this.data.length; i++) {\n        if (this.data[i] === undefined) {\n          return false\n        }\n      }\n      return this.data\n    }\n  },\n  components: {\n    Scroll,\n    Loading\n  },\n  watch: {\n    render (newRender) {\n      console.log(newRender, 'render')\n    },\n    fixedData () {\n      setTimeout(() => {\n        this._calculateHeight()// data变化导致dom变化，实时更新高度，数据变化到dom变化有延时，因此延时20ms调用。\n      }, 20)\n    },\n    scrollY (newY) {\n      const listHeight = this.listHeight\n      // 当滚动到顶部newY>0\n      if (newY > 0) {\n        this.currentIndex = 0\n        return\n      }\n      // 当在中间部分滚动\n      for (let i = 0; i < listHeight.length - 1; i++) {\n        let height1 = listHeight[i]\n        let height2 = listHeight[i + 1]\n        if (-newY >= height1 && -newY < height2) {\n          this.currentIndex = i\n          this.diff = height2 + newY\n          return\n        }\n      }\n      // 当滚动到底部，且-newY大于最后一个元素的上限\n      this.currentIndex = listHeight.length - 2\n    },\n    diff (newVal) {\n      let fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\n      /* 减少dom操作频率 */\n      if (this.fixedTop === fixedTop) {\n        return\n      }\n      this.fixedTop = fixedTop\n      this.$refs.fixed.style.transform = `translate3d(0,${fixedTop}px,0)`\n    }\n  },\n  methods: {\n    handlePlaylist (playlist) {\n      this.$nextTick(() => {\n        const fixHeight = playlist.length > 0 ? 60 : ''\n        if (!this.$refs.fixHeight) {\n          return\n        }\n        this.$refs.fixHeight.style.height = `${fixHeight}px`\n        this.$refs.listView.refresh()\n      })\n    },\n    getIndex (item) {\n      this.indexId = item.id\n    },\n    onShortcutTouchStart (e) {\n      let anchorIndex = getData(e.target, 'index')\n      let firstTouch = e.touches[0]\n      this.touch.y1 = firstTouch.pageY\n      this.touch.anchorIndex = anchorIndex\n      this._scrollTo(anchorIndex)\n    },\n    onShortcutTouchMove (e) {\n      let firstTouch = e.touches[0]\n      this.touch.y2 = firstTouch.pageY\n      let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0\n      let anchorIndex = parseInt(this.touch.anchorIndex) + delta\n      this._scrollTo(anchorIndex)\n    },\n    _scrollTo (index) {\n      if (!index && index !== 0) {\n        return\n      }\n      this.scrollY = -this.listHeight[index]\n      this.$refs.listView.scrollToElement(this.$refs.listGroup[index], 0)\n    },\n    scroll (pos) {\n      this.scrollY = pos.y\n    },\n    _calculateHeight () {\n      this.listHeight = []\n      const list = this.$refs.listGroup// 获取所有listGroup的dom\n      let height = 0\n      this.listHeight.push(height)\n      for (let i = 0; i < list.length; i++) {\n        let item = list[i]\n        height += item.scrollHeight\n        this.listHeight.push(height)\n      }\n    },\n    selectItem (item) {\n      this.$emit('select', item)\n    }\n  }\n}\n</script>\n<style>\n  .contain{\n    position: relative;\n    height:78vh;\n    width: 100vw;\n  }\n .singer-list-wrapper{\n   width: 100vw;\n }\n .list-title{\n   text-align: left;\n   padding:4px 0 4px 10px;\n   margin:0 3vh 6px 4px;\n   background-color: #ca7374;\n   font:bold 16px/16px sans-serif;\n   color: #fff;\n }\n  .singer-list{\n    display: flex;\n    background-color: #f9f9f9;\n    margin:2px 4vh 6px 4px;\n    padding: 4px;\n    box-shadow: 1px 1px 2px #b6b6b6;\n  }\n  .img-wrapper{\n    width:80px;\n    height:80px;\n    border-radius: 80px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .singer-img{\n    width: 80px;\n  }\n  .singer-name{\n    flex-grow: 1;\n    height:80px;\n    font: normal 16px/80px \"Microsoft YaHei UI\",sans-serif;\n  }\n  .small{\n    flex-grow: 1;\n    font: normal 16px/16px \"Microsoft YaHei UI\",sans-serif;\n  }\n  .side-nav{\n    width:4vw;\n    position: fixed;\n    top:14vh;\n    right:5px;\n    height:84vh;\n    background-color: #eaeaea;\n    border-radius: 5px;\n    box-shadow: 1px 1px 4px #9c9c9c;\n  }\n  .side-nav-bar{\n    margin:2px 0;\n    border-radius: 10px;\n    font-size: 12px;\n  }\n  .active-side-list{\n    background-color: brown;\n    color: #fff;\n  }\n  .fixed-title{\n    position: absolute;\n    top: 0;\n    left:0;\n    width: 94vw;\n    text-align: left;\n    padding:4px 0 4px 10px;\n    margin:0 3vh 6px 4px;\n    background-color: #ca7374;\n    font:bold 16px/16px sans-serif;\n    color: #fff;\n  }\n  .loading-container {\n    width:100px;\n    height:200px;\n    background-color: red;\n  }\n  .loading-container{\n    position: absolute;\n    top:0;\n    left:0;\n    width: 100vw;\n    height: 50vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 100;\n    background-color: #ffffff;\n    /*background-color: transparent;*/\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/listview/listview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.fixedData)?_c('div',{staticClass:\"contain\"},[_c('scroll',{ref:\"listView\",staticClass:\"singer-list-wrapper\",attrs:{\"data\":_vm.data,\"listenScroll\":_vm.listenScroll,\"probeType\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('ul',{staticClass:\"list-content\"},[_vm._l((_vm.fixedData),function(group,index){return _c('li',{key:index,ref:\"listGroup\",refInFor:true},[_c('h2',{staticClass:\"list-title\"},[_vm._v(_vm._s(group.name))]),_vm._v(\" \"),_c('ul',_vm._l((group.data),function(item,index1){return _c('li',{key:index1,on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"singer-list\"},[(index ===0)?_c('div',{staticClass:\"img-wrapper\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.singer_pic),expression:\"item.singer_pic\"}],staticClass:\"singer-img\"})]):_vm._e(),_vm._v(\" \"),_c('h3',{class:[{'singer-name':index === 0},{'small':index !==0}]},[_vm._v(_vm._s(item.singer_name))])])])}))])}),_vm._v(\" \"),_c('li',{ref:\"fixHeight\"})],2),_vm._v(\" \"),_c('div',{staticClass:\"list-fixed\"}),_vm._v(\" \"),_c('h1',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle))])]),_vm._v(\" \"),_c('div',{staticClass:\"side-nav-wrapper\"},[_c('ul',{staticClass:\"side-nav\"},_vm._l((_vm.singersIndex),function(item,index3){return _c('li',{key:index3,class:['side-nav-bar',{'active-side-list':index3===_vm.currentIndex}],attrs:{\"data-index\":index3},on:{\"touchstart\":_vm.onShortcutTouchStart,\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"click\":function($event){_vm.getIndex(item)}}},[_vm._v(_vm._s(item.name.substring(0,1)))])}))]),_vm._v(\" \"),(!_vm.data.length)?_c('div',{staticClass:\"loading-container\"},[_c('loading',{attrs:{\"title\":\"正在载入...\"}})],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1399c542\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1399c542\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1399c542\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"singers-wrapper\">\n    <top-nav @change-area=\"resetArea\"></top-nav>\n    <view-list @select=\"selectSinger\" :data=\"singersFull\"></view-list>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport {fetchSingerList} from '../../api/singer.js'\nimport {ERR_OK, singersNav} from '@/api/config'\nimport TopNav from './singerNav/singerTopNav.vue'\nimport ViewList from '@/base/listview/listview.vue'\nimport Vue from 'vue'\nimport { mapMutations } from 'vuex'\n\nexport default {\n  data () {\n    return {\n      singers: [],\n      areaId: -100,\n      index: singersNav.index\n\n    }\n  },\n  components: {\n    TopNav,\n    ViewList\n  },\n  computed: {\n    singersFull: function () {\n      if (this.singers.length === 28) {\n        return this.singers\n      }\n    }\n  },\n  created () {\n    this._fetchSingerList(this.setSingers, this.index)\n  },\n  methods: {\n    _fetchSingerList (callback, index) {\n      for (let i = 0; i < index.length; i++) {\n        fetchSingerList(this.areaId, index[i], i, callback)\n      }\n    },\n    setSingers (data, name, index) {\n      if (data.code === ERR_OK) {\n        data.singerList.data.singerlist.splice(20)\n        Vue.set(this.singers, index, {'name': '', 'data': ''})\n        this.singers[index]['name'] = name\n        this.singers[index]['data'] = data.singerList.data.singerlist\n      }\n    },\n    resetArea (areaId) {\n      this.areaId = areaId\n    },\n    resetIndex (index) {\n      this.index = index\n    },\n    selectSinger (singer) {\n      this.setSinger(singer)\n      this.$router.push({\n        path: `/singer/${singer.singer_id}`\n      })\n    },\n    ...mapMutations({\n      setSinger: 'SET_SINGER'\n    })\n  },\n  watch: {\n    areaId () {\n      this._fetchSingerList(this.setSingers, this.index)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.singers-wrapper{\n  position: relative;\n  height: 84vh;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer/singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singers-wrapper\"},[_c('top-nav',{on:{\"change-area\":_vm.resetArea}}),_vm._v(\" \"),_c('view-list',{attrs:{\"data\":_vm.singersFull},on:{\"select\":_vm.selectSinger}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cb3ffaa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cb3ffaa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cb3ffaa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3cb3ffaa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","import fetch from './tool'\nimport { commonParams } from './config'\n\nexport function fetchSingerList (area, idObj, index, callback) {\n  // callback设置jsonp函数名\n  const url = 'https://u.y.qq.com/cgi-bin/musicu.fcg'\n  const data = Object.assign({}, commonParams, {\n    g_tk: 5381,\n    loginUin: 0,\n    hostUin: 0,\n    format: 'jsonp',\n    platform: 'yqq',\n    data: encodeURIComponent(`{\"comm\":{\"ct\":24,\"cv\":10000},\"singerList\":{\"module\":\"Music.SingerListServer\",\"method\":\"get_singer_list\",\"param\":{\"area\":${area},\"sex\":-100,\"genre\":-100,\"index\":${idObj.id},\"sin\":0,\"cur_page\":1}}}`)\n  })\n  return fetch.fetchData2(url, data, idObj.name, index, callback)\n}\nexport function fetchSingerDetail (singerId, callback) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n  const data = Object.assign({}, commonParams, {\n    g_tk: 1215922553,\n    loginUin: '251961612',\n    inCharset: 'utf8',\n    hostUin: '0',\n    format: 'jsonp',\n    platform: 'yqq',\n    needNewCode: '0',\n    singermid: singerId,\n    order: 'listen',\n    begin: '0',\n    num: '30',\n    songstatus: 1\n  })\n  return fetch.fetchData1(url, data, callback)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js"],"sourceRoot":""}